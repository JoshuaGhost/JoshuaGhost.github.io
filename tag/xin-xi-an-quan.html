<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <title>简庐 - 信息安全</title>
        <link rel="stylesheet" href="../theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../">简庐 </a></h1>
                <nav><ul>
                    <li><a href="../pages/jian-yi-ming-zhi-long-wo-mao-lu.html">简以明志 龙卧茅庐</a></li>
                    <li><a href="../category/ao-you-kai-yuan.html">遨游开源</a></li>
                    <li><a href="../category/feng-chui-piao-xu.html">风吹飘絮</a></li>
                    <li><a href="../category/jia-hai-fu-chen.html">贾海浮沉</a></li>
                    <li><a href="../category/jie-sheng-ke-shi.html">结绳刻石</a></li>
                    <li><a href="../category/pi-jian-zhi-rui.html">披坚执锐</a></li>
                    <li><a href="../category/qian-tan-shi-bei.html">浅滩拾贝</a></li>
                    <li><a href="../category/shi-juan-you-huai.html">释卷有怀</a></li>
                    <li><a href="../category/shu-fa-rong-ma.html">束发戎马</a></li>
                    <li><a href="../category/shui-lai-tu-tun.html">水來土屯</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="../2011/duan-xuan-ze-qi-duan-miao-shu-fu-duan-miao-shu-fu-biao-xian-xing-di-zhi-xing-cheng.html">段选择器 段描述符 段描述符表 线性地址形成</a></h1>
<footer class="post-info">
        <abbr class="published" title="2011-07-26T00:00:00+02:00">
                Published: 二 26 七月 2011
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="../author/han-guang.html">韩光</a>
        </address>
<p>In <a href="../category/pi-jian-zhi-rui.html">披坚执锐</a>. </p>
<p>tags: <a href="../tag/xin-xi-an-quan.html">信息安全</a> <a href="../tag/ia-32.html">IA-32</a> <a href="../tag/windowsjia-gou.html">Windows架构</a> </p>
</footer><!-- /.post-info --><p>买了本罗老师的琢石成器,才看前3章就感觉晕晕忽忽，总体觉得要看懂这本书前提是必须DOS汇编,了解32位汇编基础.DOS汇编本人只看了王爽老师的汇编语言前11章，中断这块还没有看,看来不看还是不行的。转回来说,罗老师这本书前3章写的很乱，尤其是描述符这块，看了似懂非懂，通而不透。只能自己抽丝剥茧，捋清头绪，慢慢体会：</p>
<h2>段选择器</h2>
<p>32位汇编中16位段寄存器(CS、DS、ES、SS、FS、GS)中不再存放段基址,而是段描述符在段描述符表中的索引值,D3-D15位是索引值,D0-D1位是优先级(RPL)用于特权检查,D2位是描述符表引用指示位TI,TI=0指示从全局描述表GDT中读取描述符，TI=1指示从局部描述符中LDT中读取描述符。这些信息总称段选择器(段选择子).</p>
<h2>段描述符</h2>
<p>8个字节64位，每一个段都有一个对应的描述符。根据描述符描述符所描述的对象不同，描述符可分为三类：储存段描述符，系统段描述符，门描述符(控制描述符)。在描述符中定义了段的基址，限长和访问内型等属性。其中基址给出该段的基础地址，用于形成线性地址；限长说明该段的长度，用于存储空间保护；段属性说明该段的访问权限、该段当前在内存中的存在性，以及该段所在的特权级。</p>
<h2>段描述符表</h2>
<p>IA-32处理器把所有段描述符按顺序组织成线性表放在内存中，称为段描述符表。分为三类：全局描述符表GDT，局部描述符表LDT和中断描述符表IDT。GDT和IDT在整个系统中只有一张，而每个任务都有自己私有的一张局部描述符表LDT，用于记录本任务中涉及的各个代码段、数据段和堆栈段以及本任务的使用的门描述符。GDT包含系统使用的代码段、数据段、堆栈段和特殊数据段描述符，以及所有任务局部描述符表LDT的描述符。</p>
<h2>GDTR全局描述符寄存器</h2>
<p>48位，高32位存放GDT基址，低16为存放GDT限长。</p>
<h2>LDTR局部描述符寄存器</h2>
<p>16位，高13为存放LDT在GET中的索引值。</p>
<p>IA-32处理器仍然使用xxxx：yyyyyyyy（段选择器：偏移量）逻辑方式表示一个线性地址，那么是怎么得到段的基址呢？在上面说明中我们知道，要得到段的基址首先通过段选择器xxxx中TI位指定的段描述符所在位置：</p>
<p>当TI=0时表示段描述符在GDT中，如下图所示：① 先从GDTR寄存器中获得GDT基址。② 然后再GDT中以段选择器高13位位置索引值得到段描述符。③ 段描述符符包含段的基址、限长、优先级等各种属性，这就得到了段的起始地址（基址），再以基址加上偏移地址yyyyyyyy才得到最后的线性地址。</p>
<p><img alt="假装此处有图片" src="../2011/segment0.jpg" /></p>
<p>当TI=1时表示段描述符在LDT中，如下图所示：① 还是先从GDTR寄存器中获得GDT基址。② 从LDTR寄存器中获取LDT所在段的位置索引(LDTR高13位)。③ 以这个位置索引在GDT中得到LDT段描述符从而得到LDT段基址。④ 用段选择器高13位位置索引值从LDT段中得到段描述符。⑤ 段描述符符包含段的基址、限长、优先级等各种属性，这就得到了段的起始地址（基址），再以基址加上偏移地址yyyyyyyy才得到最后的线性地址。</p>
<p><img alt="假装此处有图片" src="../2011/segment1.jpg" /></p>
<p>此文章乃自<a href="http://hi.baidu.com/%B7%E7%D6%AE%D2%E2/blog/item/02f0c71a473bb1bf4bedbc5d.html">此处</a>转载，喜欢的话给原作者点个赞呗～</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="../2009/md5jia-mi-suan-fa-cyu-yan-shi-xian.html" rel="bookmark"
                           title="Permalink to md5加密算法c语言实现">md5加密算法c语言实现</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2009-09-13T00:00:00+02:00">
                Published: 日 13 九月 2009
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="../author/han-guang.html">韩光</a>
        </address>
<p>In <a href="../category/pi-jian-zhi-rui.html">披坚执锐</a>. </p>
<p>tags: <a href="../tag/mi-ma-xue.html">密码学</a> <a href="../tag/xin-xi-an-quan.html">信息安全</a> </p>
</footer><!-- /.post-info -->                <p>从网上找的md5信息摘要算法的c语言实现，因为我不会用Pascal语言一二进制形式打开文件，就只能把这个c语言的代码原封不动地（其实还是我自己抄了一遍，把编码风格改得比较像自己的）粘到qq空间上来，以做珍藏，具体的实现原理我就不再赘述了，总结起来就是补位，加长度，分组，位运算，反向输出这么几步。
所谓md5信息摘要算法，当然比他的前身md4信息摘要要先进，升级的地方主要有这么几点：
    1.定义的宏里面，I函数由原来的(x ^ y^ z)，也就是Pascal中的(x xor y xor z)改为(y^x|(~z))，也就是Pascal中的
     (x xor y or (not z))，增加了算法的不对称性，使得md5更难破译
    2.md5在加密的 md5() 函数中，使用了四轮加密，比md4多出一轮
    3.md5函数中，每个双写大写字母命名的函数都有唯一的加法常数参量 ...</p>
                <a class="readmore" href="../2009/md5jia-mi-suan-fa-cyu-yan-shi-xian.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 1
</p>
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="#">尊贵的客人哟</a></li>
                            <li><a href="#">如果你想</a></li>
                            <li><a href="#">和咱建立友链的话</a></li>
                            <li><a href="mailto:sniperstriker@163.com">就mail我吧</a></li>
                            <li><a href="http://t.qq.com/JoshuaGhost">或者用QQ：五七八六零三九一八</a></li>
                            <li><a href="#">恭候您的大驾</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="http://github.com/JoshuaGhost">Fork me on GitHub!</a></li>
                            <li><a href="http://twitter.com/Joshua_Ghost/">Twitt me!</a></li>
                            <li><a href="mailto:sniperstriker@gmail.com">Mail me!</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>